<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>Why I don&#39;t like Dictionary.TryGetValue and how I made it better (I hope) &middot; dotsquid</title>
    <meta name="generator" content="Hugo 0.18.1" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="dotsquid">
    
      <meta name="description" content="">
    
    
    <link rel="canonical" href="http://dotsquid.com/2017/05/31/dictionary-trygetvalue"/>

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="http://dotsquid.com/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://dotsquid.com/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://dotsquid.com/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://dotsquid.com/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://dotsquid.com/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://dotsquid.com/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="http://dotsquid.com/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="http://dotsquid.com/favicon-16x16.png" />
    <meta name="application-name" content="dotsquid blog"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="http://dotsquid.com/mstile-144x144.png"/ >

    <link rel="stylesheet" href="http://dotsquid.com/css/style.css">
    <link rel="stylesheet" href="http://dotsquid.com/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://dotsquid.com/css/monokai.css">
    <link rel="stylesheet" href="http://dotsquid.com/fancybox/jquery.fancybox.css">
    
    <link rel="stylesheet" href="http://dotsquid.com/css/style-override.css">
    
    <link rel="stylesheet" href="http://dotsquid.com/css/gist/monokai.css">
    
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
    <meta property="og:title" content="Why I don&#39;t like Dictionary.TryGetValue and how I made it better (I hope)" />
<meta property="og:description" content="The most annoying thing of Dictionary.TryGetValue is that it returns a default value of value parameter if key is not found. E.g. if value is of float type it will be 0.0f.
Because of that you have to check the returned bool and if it&rsquo;s false you have to assign the value you need. It looks as follows



As you can see now we have to deal with redundant if statement which makes code not so clean and neat as it could be.
How about this one?



Fortunately it&rsquo;s quite easy to make it real with an extension class like as follows


" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://dotsquid.com/2017/05/31/dictionary-trygetvalue" />


<meta property="og:updated_time" content="2017-05-31T21:22:23&#43;02:00"/>










    
    
<meta itemprop="name" content="Why I don&#39;t like Dictionary.TryGetValue and how I made it better (I hope)">
<meta itemprop="description" content="The most annoying thing of Dictionary.TryGetValue is that it returns a default value of value parameter if key is not found. E.g. if value is of float type it will be 0.0f.
Because of that you have to check the returned bool and if it&rsquo;s false you have to assign the value you need. It looks as follows



As you can see now we have to deal with redundant if statement which makes code not so clean and neat as it could be.
How about this one?



Fortunately it&rsquo;s quite easy to make it real with an extension class like as follows


">


<meta itemprop="dateModified" content="2017-05-31T21:22:23&#43;02:00" />
<meta itemprop="wordCount" content="102">



<meta itemprop="keywords" content="general,unity3d,c-sharp,ui,unity3d," />

    

  <meta name="twitter:card" content="summary"/>



<meta name="twitter:title" content="Why I don&#39;t like Dictionary.TryGetValue and how I made it better (I hope)"/>
<meta name="twitter:description" content="The most annoying thing of Dictionary.TryGetValue is that it returns a default value of value parameter if key is not found. E.g. if value is of float type it will be 0.0f.
Because of that you have to check the returned bool and if it&rsquo;s false you have to assign the value you need. It looks as follows



As you can see now we have to deal with redundant if statement which makes code not so clean and neat as it could be.
How about this one?



Fortunately it&rsquo;s quite easy to make it real with an extension class like as follows


"/>
<meta name="twitter:site" content="@dotsquid"/>


    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>

<div id="container">
	<header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      
      <nav id="main-nav">
          
          
          <a class="main-nav-link" href="http://dotsquid.com/">Home</a>
          
          
          
          
          
          

          

          
          
          
          
          <a class="main-nav-link" href="http://dotsquid.com/about/">About</a>
          
          
          
          <a class="main-nav-link" href="http://dotsquid.com/contact/">Contact</a>
          
          
      </nav>
      
      <div class="social-links">
        <table>
          <tr>
            
<td><a href="//github.com/dotsquid" target="_blank" title="GitHub"><i class="fa fa-github"></i></a></td>









































<td><a href="//stackoverflow.com/users/2221247" target="_blank" title="Stack Overflow"><i class="fa fa-stack-overflow"></i></a></td>











<td><a href="//twitter.com/dotsquid" target="_blank" title="Twitter"><i class="fa fa-twitter"></i></a></td>


            <td><a href="http://dotsquid.com/index.xml" target="_blank" title="RSS"><i class="fa fa-rss"></i></a></td>
          </tr>
        </table>
      </div>
      <div id="search-form-wrap">
        <form action="//duckduckgo.com" method="get" accept-charset="UTF-8" class="search-form">
            <input type="search" name="q" class="search-form-input" placeholder="Search">
            <button type="submit" class="search-form-submit"></button>
            <input type="hidden" name="sites" value="http://dotsquid.com/" />
            <div class="search-form-highlight"></div>
        </form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tbody>
          <tr>
          
          
          <td><a class="main-nav-link" href="http://dotsquid.com/">Home</a></td>
          
          
          
          
          
          

          

          
          
          
          
          <td><a class="main-nav-link" href="http://dotsquid.com/about/">About</a></td>
          
          
          
          <td><a class="main-nav-link" href="http://dotsquid.com/contact/">Contact</a></td>
          
          
          <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
          <input type="search" name="q" class="search-form-input" placeholder="Search">
          <input type="hidden" name="sitesearch" value="http://dotsquid.com/" />
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</header>

   	
   	<div class="outer">
	    
<section id="main">

    <article id="page-undefined" class="article article-type-page" itemscope="" itemprop="blogPost">
        <div class="article-inner">
            
    <div class="article-banner">
        <a href="http://dotsquid.com/2017/05/31/dictionary-trygetvalue" itemprop="url">
            <img src="http://dotsquid.com/titles/dictionary-trygetvalue.png">
        </a>
    </div>


<header class="article-header">
    <a href="http://dotsquid.com/2017/05/31/dictionary-trygetvalue">
        <h1 class="article-title" itemprop="name">
            Why I don&#39;t like Dictionary.TryGetValue and how I made it better (I hope)
        </h1>
    </a>
    <div class="article-meta">

        
        <div class="article-date">
            <i class="fa fa-calendar"></i>
            <time datetime="2017-05-31 21:22:23 &#43;0200 &#43;0200" itemprop="datePublished">2017 May 31</time>
            
        </div>
        
        
            
            
            <div class="article-category">
                <i class="fa fa-folder"></i>
                
                
                    <a class="article-category-link" href="http://dotsquid.com/categories/unity3d">Unity3d</a>
                    
                
            </div>
            
        

        
            
            
            <div class="article-category">
                <i class="fa fa-tags"></i>
                
                    
                    <a class="article-category-link" href="http://dotsquid.com/tags/unity3d">unity3d</a>
                    
                        
                        /
                    
                
                    
                    <a class="article-category-link" href="http://dotsquid.com/tags/ui">ui</a>
                    
                        
                        /
                    
                
                    
                    <a class="article-category-link" href="http://dotsquid.com/tags/c-sharp">c-sharp</a>
                    
                
            </div>
            
        
    </div>
</header>

            <div class="article-entry" itemprop="articleBody">
                <p>The most annoying thing of <code>Dictionary.TryGetValue</code> is that it returns a default value of <code>value</code> parameter if <code>key</code> is not found. E.g. if <code>value</code> is of <code>float</code> type it will be <code>0.0f</code>.<br />
Because of that you have to check the returned <code>bool</code> and if it&rsquo;s <code>false</code> you have to assign the value you need. It looks as follows</p>

<script src="//gist.github.com/dotsquid/dff16aed638d582593e455621176cecd.js?file=Dislike.cs"></script>

<p>As you can see now we have to deal with redundant <code>if</code> statement which makes code not so clean and neat as it could be.<br />
How about this one?</p>

<script src="//gist.github.com/dotsquid/dff16aed638d582593e455621176cecd.js?file=Like.cs"></script>

<p>Fortunately it&rsquo;s quite easy to make it real with an extension class like as follows</p>

<p><script src="//gist.github.com/dotsquid/dff16aed638d582593e455621176cecd.js?file=DictionaryUtility.cs"></script><br />
</p>
            </div>
            <footer class="article-footer">
    <a data-url="http://dotsquid.com/2017/05/31/dictionary-trygetvalue" data-id="040899de8780a497b92d9570b9f45a69" class="article-share-link">
        <i class="fa fa-share"></i>
        Share
    </a>
    
    <a href="http://dotsquid.com/2017/05/31/dictionary-trygetvalue#disqus_thread" class="article-comment-link">
        Comments
    </a>
    

    <script>
    (function ($) {
        
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
    </script>
</footer>

        </div>

        
<nav id="article-nav">
    
    <a href="http://dotsquid.com/2017/04/17/stable-enum" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">
          Older
      </strong>
      <div class="article-nav-title">StableEnum or: How I Learned to Stop Worrying and Love the Enums in Unity3d</div>
    </a>
    

    
</nav>


    </article>

    
    <section id="comments">
        <div id="disqus_thread">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'dotsquid-com';
    var disqus_identifier = 'http:\/\/dotsquid.com\/2017\/05\/31\/dictionary-trygetvalue';
    var disqus_title = 'Why I don\x27t like Dictionary.TryGetValue and how I made it better (I hope)';
    var disqus_url = 'http:\/\/dotsquid.com\/2017\/05\/31\/dictionary-trygetvalue';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </section>
    
</section>

	    
	    	<aside id="sidebar">
    

    

    

    

</aside>

	    
	</div>
</div>

<footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017
      Proudly made in <a href="https://en.wikipedia.org/wiki/Ukraine">Ukraine</a>. Powered by <a href="//gohugo.io">Hugo</a>.
    </div>
  </div>
</footer>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-97233469-1', 'auto');
ga('send', 'pageview');
</script>

<script src="http://dotsquid.com/fancybox/jquery.fancybox.pack.js"></script>
<script src="http://dotsquid.com/js/script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>


<script src="http://dotsquid.com/js/typed.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



</body>
</html>
